---
layout: post
title:  "Standard ML"
date:   2018-03-10 22:00:00 +0900
tag: [sml]
---

---

> Computation in ML consists of evaluation of expressions. Each expression
has three important characteristics:

- It may or may not have a `type`.
- It may or may not have a `value`.
- It may or may not engender an `effect`.

---

> What is a type? What types are there? Generally speaking, a type is defined
by specifying three things:

- a `name` for the type,
- the `values` of the type, and
- the `operations` that may be performed on values of the type.

## Examples

- `val m : int = 0`
- `val x : real = Math.sqrt(2.0)`
- `val c : char = #"a"`


## Functions


- `fn n=>n+1`

```
(* merge: int list * int list -> int list *)

fun merge (a: int list, b: int list) =
  a @ b;
```

## Examples

```
(* Written by Jo Won *)

(* 1. Merge Lists *)
(* merge: int list * int list -> int list *)
(* time complexity O(x+y) *)

fun merge (x: int list, y: int list) =
  if x = [] andalso y = [] then [] else
  if x = [] then y else
  if y = [] then x else

  if hd(x) < hd(y)
  then hd(x)::merge(tl(x), y)
  else
  if hd(x) > hd(y)
  then hd(y)::merge(x, tl(y))
  else hd(x)::hd(y)::merge(tl(x), tl(y));



(* 2. Reverse List *)
(* reverse: int list -> int list *)

fun reverse (x: int list) =
  if x = [] then x
  else reverse(tl(x)) @ hd(x)::[];



(* 3. Sigma Function *)
(* sigma: int * int * (int -> int) -> int *)
(* sigma f(n) a to b : f(a) + f(a+1) + f(a+2) + ... + f(b) *)

fun sigma(a:int, b:int, f) =
  if a = b
  then f(b)
  else f(a)+sigma(a+1, b, f);



(* 4. Digits Function (10pt) *)
(* digits: int -> int list *)

fun digits(x: int) =
  if x < 10
  then [x]
  else digits(x div 10)@[(x mod 10)];



(* 5. Digital Roots and Additive Persistence  *)

(* additivePersistence: int -> int *)

fun additivePersistence(x: int) =
   let
     fun sum(x: int) =
       if x < 10
       then x
       else (x mod 10) + sum(x div 10)
   in
     if sum(x) < 10
     then 1
     else 1 + additivePersistence(sum(x))
   end;

(* digitalRoot: int -> int  *)
fun digitalRoot(x: int) =
  let
    fun sum(x: int) =
      if x < 10
      then x
      else (x mod 10) + sum(x div 10)
  in
    if sum(x) < 10
    then sum(x)
    else digitalRoot(sum(x))
  end;
```
